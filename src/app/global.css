@import 'tailwindcss';
@plugin "./hero";
@source "./**/*.{ts,tsx,mdx}" "../../content/**/*.{md,mdx}" "../../node_modules/@heroui/theme/dist/**/*.{js,ts,jsx,tsx}";
@custom-variant dark (&:is(.dark *));
@import 'fumadocs-ui/css/neutral.css';
@import 'fumadocs-ui/css/preset.css';
@import 'fumadocs-twoslash/twoslash.css';

@theme {
  --color-fd-primary: #6A66F4;
  --color-primary: var(--color-fd-primary);
}

:root {
  --color-fd-primary: #6A66F4;
  --app-sans: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Segoe UI', Roboto,
    'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
    'Noto Color Emoji', sans-serif;
}

.dark { --color-fd-primary: #6A66F4; }

html { font-family: var(--app-sans); }
body { font-feature-settings: 'ss01' on, 'cv05' on; }

:root {
  --toc-accent: var(--color-fd-primary);
  --toc-rail: color-mix(in oklab, var(--color-fd-primary) 20%, transparent);
}

nav[aria-label="Table of contents"],
nav[aria-label="目录"] {
  --_toc-rail: var(--toc-rail);
  --_toc-accent: var(--toc-accent);
}

nav[aria-label="Table of contents"] ol,
nav[aria-label="目录"] ol {
  position: relative;
  margin-left: 12px;
  border-left: 1.5px solid var(--_toc-rail);
  padding-left: 0;
}

nav[aria-label="Table of contents"] li,
nav[aria-label="目录"] li {
  list-style: none;
  position: relative;
  padding-left: 12px;
  margin: 8px 0;
}

nav[aria-label="Table of contents"] li::before,
nav[aria-label="目录"] li::before {
  content: '';
  position: absolute;
  left: -9px;
  top: 0.9em;
  transform: translateY(-50%);
  width: 8px;
  height: 8px;
  border-radius: 9999px;
  background: var(--_toc-accent);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--_toc-accent) 12%, transparent);
}

nav[aria-label="Table of contents"] a,
nav[aria-label="目录"] a {
  display: inline-block;
  color: var(--fd-muted-foreground, color-mix(in oklab, #000 55%, transparent));
  text-decoration: none;
  padding: 2px 0;
}

nav[aria-label="Table of contents"] a:hover,
nav[aria-label="目录"] a:hover { color: var(--_toc-accent); }

nav[aria-label="Table of contents"] a[aria-current],
nav[aria-label="目录"] a[aria-current],
nav[aria-label="Table of contents"] a[aria-current="page"],
nav[aria-label="目录"] a[aria-current="page"],
nav[aria-label="Table of contents"] a[data-active="true"],
nav[aria-label="目录"] a[data-active="true"] {
  color: var(--_toc-accent);
  font-weight: 600;
}

/* MDX tables: do not bold the first row (thead headers) */
/* stronger specificity to override preset */
/* MDX tables: ensure the first row is not bold on all doc pages */
/* 1) Normal thead/th case */
.fd-article table thead th,
article.fd-article table thead th,
.prose table thead th,
article table thead th { font-weight: 400 !important; }

/* 2) Edge case: tables without thead, treat the first row as header in practice */
.fd-article table tr:first-child > th,
.fd-article table tr:first-child > td,
.prose table tr:first-child > th,
.prose table tr:first-child > td,
article table tr:first-child > th,
article table tr:first-child > td { font-weight: 400 !important; }

/* Also normalize any remaining th if preset styles apply globally */
.fd-article table th,
article table th,
.prose table th { font-weight: 400; }

/* Zebra striping for tables in doc articles: first row gray, second white, alternating */
:root { --table-zebra-bg: color-mix(in oklab, #000 6%, transparent); }
.dark { --table-zebra-bg: color-mix(in oklab, #fff 8%, transparent); }

/* 让所有文档正文区域表格都生效（包含有无 thead 的情况） */
.fd-article table tbody tr:nth-child(odd),
.prose table tbody tr:nth-child(odd),
article table tbody tr:nth-child(odd) { background-color: transparent !important; }

.fd-article table tbody tr:nth-child(even),
.prose table tbody tr:nth-child(even),
article table tbody tr:nth-child(even) { background-color: transparent !important; }

.dark .fd-article table tbody tr:nth-child(even),
.dark .prose table tbody tr:nth-child(even),
.dark article table tbody tr:nth-child(even) { background-color: transparent !important; }

/* 没有 thead 的表格，第一行保持默认背景 */
.fd-article table:not(:has(thead)) tr:first-child > td,
.prose table:not(:has(thead)) tr:first-child > td,
article table:not(:has(thead)) tr:first-child > td { background-color: transparent !important; }

/* 保留：表头不加粗；单元格内 strong 加粗 */
.fd-article table thead th,
article.fd-article table thead th,
.prose table thead th,
article table thead th { font-weight: 400 !important; }

/* 修正：使用更高优先级的选择器强制为表格内容区的 strong/b 标签加粗 */
.fd-article table tbody tr td strong,
.fd-article table tbody tr td b,
.prose table tbody tr td b,
article table tbody tr td b,
article table tbody tr td strong,
article table tbody tr td strong {
  font-weight: 700 !important;
}

/* 新增：统一表头背景色与内容行一致 */
.fd-article table thead th,
article.fd-article table thead th,
.prose table thead th,
article table thead th { background-color: transparent !important; }

.animate-marquee {
  animation: marquee var(--marquee-duration, 40s) linear infinite;
}

.group:hover .animate-marquee {
  animation-play-state: paused;
}

@keyframes marquee {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

@keyframes marquee_reverse {
  from {
    transform: translateX(-50%);
  }
  to {
    transform: translateX(0);
  }
}

/* Hide scrollbars for horizontal snapping containers on mobile */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar {
  -ms-overflow-style: none; /* IE/Edge */
  scrollbar-width: none;    /* Firefox */
}
